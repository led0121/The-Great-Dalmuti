# 🎲 보드게임 라운지 - 웹 카드게임 플랫폼
# (The Great Dalmuti & Board Game Lounge)

멀티플레이어 카드게임 플랫폼입니다. **달무티**, **원카드**, **블랙잭**, **포커** 4가지 게임을 웹 브라우저에서 즐길 수 있습니다.  
Node.js와 React를 사용하며, Socket.io를 통해 실시간 플레이를 지원합니다.

## 🎮 지원 게임

| 게임 | 인원 | 설명 |
|------|------|------|
| 👑 달무티 | 3~8명 | 계급 기반 카드게임. 세금, 시장, 혁명 시스템 |
| 🃏 원카드 | 2~6명 | UNO 스타일 카드게임. 공격/방어, 원카드 외치기 |
| 🎰 블랙잭 | 1~6명 | 인기 카드 게임. 히트/스탠드/더블다운 |
| ♠️ 포커 | 2~8명 | 텍사스 홀덤. 폴드/콜/레이즈/올인 |

## ✨ 주요 기능

- **회원가입/로그인** 시스템 (아이디, 비밀번호, 닉네임)
- **게임 머니** 시스템 (가입 시 10,000 코인 지급)
- **매일 자정** 10,000 코인 자동 충전
- **포인트 설정** 가능 (무료/100/500/1,000/5,000)
- **접속자 수** 실시간 표시
- **방 시스템** 생성/입장/관전
- **전적 및 랭킹** 프로필, 승률, 게임별 통계, 서버 랭킹 (leaderboard)
- **실시간 채팅**
- **다국어 지원** (한국어/English)
- **LAN 접속** 지원 (같은 네트워크 내 다른 기기에서 접속 가능)

## 🚀 설치 및 실행

### 필수 요구 사항
- Node.js (v18 이상)
- npm

### 원클릭 설치 + 실행 (권장)

```bash
# 전체 설치 + 빌드 + 실행 (포그라운드)
bash setup.sh

# 서버 환경 백그라운드 구동 스크립트 (추천)
bash bg-start.sh    # 백그라운드에서 서버 시작
bash bg-status.sh   # 서버 상태 및 로그 확인
bash bg-stop.sh     # 서버 종료

# 도움말
bash setup.sh --help
```

### 수동 설치

```bash
# 1. 서버 패키지 설치
cd server
npm install

# 2. 클라이언트 패키지 설치
cd ../client
npm install

# 3. 실행 (프로젝트 루트에서)
cd ..
bash start.sh
```

### 접속 방법
- 로컬: `http://localhost:18000`
- LAN: `http://<서버IP>:18000` (방화벽 포트 3000, 18000 개방 필요)

## 🃏 게임 규칙

### 원카드
- 이전 카드와 같은 **무늬** 또는 같은 **숫자**의 카드를 냅니다
- **공격 카드**: 2(+2), A(+3), 흑백조커(+5), 컬러조커(+7) - 같은 종류로만 방어
- **3 방어**: 2 공격을 무효화하는 방어 전용 카드
- **J(스킵)**, **Q(리버스)**, **7(무늬변경)**, **K(다시 한 턴)**
- **원카드 외치기**: 카드 1장 남으면 2초 내에 버튼 클릭! (못 누르면 +2장 패널티)

### 달무티
- 더 낮은 숫자(더 좋은 계급)의 카드를 같거나 더 많은 수량으로 냅니다
- **세금**: 꼴등 → 1등에게 최고 카드 2장 바침
- **시장**: 원하는 카드를 다른 플레이어와 교환
- **혁명**: 조커 2장으로 계급 전복 가능

### 블랙잭
- 딜러와 대결하여 21에 가장 가까운 점수를 만드세요
- **히트**: 카드 1장 추가, **스탠드**: 현재 점수로 종료
- **더블다운**: 투자 포인트 2배 + 카드 1장 (첫 2장에서만 가능)
- **블랙잭(21)**: 1.5배 지급, **버스트(21 초과)**: 패배

### 포커 (텍사스 홀덤)
- 2장의 홀카드 + 최대 5장의 커뮤니티 카드로 최고 5장 조합
- **프리플롭 → 플롭(3장) → 턴(1장) → 리버(1장) → 쇼다운**
- **폴드/콜/체크/레이즈/올인** 액션
- 핸드 랭킹: 로열 플러시 > 스트레이트 플러시 > 포카드 > 풀하우스 > 플러시 > 스트레이트 > 트리플 > 투페어 > 원페어 > 하이카드

## 🛠 기술 스택

| 구분 | 기술 |
|------|------|
| Frontend | React 19, Vite 5, Tailwind CSS, Framer Motion |
| Backend | Node.js, Express, Socket.io |
| 인증 | bcryptjs (비밀번호 해싱) |
| 데이터 | JSON 파일 기반 DB |

## 📁 프로젝트 구조

```
📦 프로젝트 루트/
├── setup.sh                 # 원클릭 설치 + 실행 스크립트
├── bg-start.sh              # 백그라운드 환경 서버 시작 스크립트
├── bg-stop.sh               # 백그라운드 환경 서버 종료 스크립트
├── bg-status.sh             # 서버 작동 상태 확인 스크립트
├── server/
│   ├── index.js             # Express + Socket.io 서버 (인증, 온라인 카운트)
│   ├── RoomManager.js       # 방 관리 (4게임 지원, 포인트 관리)
│   ├── UserDB.js            # 유저 DB (회원가입, 로그인, 전적, 랭킹)
│   ├── Game.js              # 달무티 게임 엔진
│   ├── OneCardGame.js       # 원카드 게임 엔진
│   ├── BlackjackGame.js     # 블랙잭 게임 엔진
│   ├── PokerGame.js         # 포커(홀덤) 게임 엔진
│   └── data/                # 유저 데이터 저장 (자동 생성)
├── client/
│   └── src/
│       ├── App.jsx              # 메인 앱 (인증, 게임별 라우팅)
│       ├── LanguageContext.jsx
│       ├── translations.js      # 다국어 (한/영)
│       └── components/
│           ├── Login.jsx        # 로그인/회원가입 화면
│           ├── Lobby.jsx        # 로비 (잔고, 접속자수, 방목록)
│           ├── ProfileModal.jsx # 내 정보, 전적, 랭킹 리더보드
│           ├── RulesModal.jsx   # 다국어 규칙 및 게임 전용 용어 설명
│           ├── GameRoom.jsx     # 달무티 게임 화면
│           ├── OneCardRoom.jsx  # 원카드 게임 화면
│           ├── BlackjackRoom.jsx # 블랙잭 게임 화면
│           ├── PokerRoom.jsx    # 포커 게임 화면
│           ├── Card.jsx
│           ├── Chat.jsx
│           └── PatchNotes.jsx
```
